(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-5ef23559"],{6565:function(s,t){s.exports="data:image/png;base64,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"},"7b47":function(s,t,e){"use strict";e.r(t);var a=function(){var s=this,t=s.$createElement,a=s._self._c||t;return a("div",{staticClass:"users"},[a("div",{staticClass:"page--title"},[a("h1",{staticClass:"title--text"},[s._v("\n            Users\n        ")]),this.$route.params.id&&s.isInUserPermissions("user.create")?a("div",{staticClass:"page--title--action ml-auto"},[a("router-link",{staticClass:"button is-primary is-rounded",attrs:{to:"/userForm"}},[s._v("Add New User")])],1):s._e()]),a("breadcrumb",{attrs:{links:s.breadcrumb}}),a("div",{staticClass:"card--block"},[a("div",{staticClass:"card--content"},[a("form",{staticClass:"row justify-content-center",on:{submit:function(t){return t.preventDefault(),s.submitForm()}}},[a("div",{staticClass:"col-12 col-lg-8 col-xl-6"},[a("div",{staticClass:"row align-items-center"},[a("div",{staticClass:"col-12"},[a("b-field",{staticClass:"field-group"},[a("div",{staticClass:"text-center"},[a("div",{staticClass:"user--photo field-group"},[s.userPhoto?a("img",{staticClass:"avatar-l",attrs:{src:s.userPhoto,alt:""}}):a("img",{staticClass:"avatar-l",attrs:{src:e("6565"),alt:""}})]),a("a",{staticClass:"button is-dark is-rounded m-2 is-small",on:{click:s.openModalMedia}},[s._v("Change\n                                        Photo")])])])],1),a("div",{staticClass:"col-12 col-sm-6"},[a("b-field",{staticClass:"field-group"},[a("b-input",{attrs:{type:"text",required:"",rounded:"",placeholder:"First name"},model:{value:s.firstName,callback:function(t){s.firstName=t},expression:"firstName"}})],1)],1),a("div",{staticClass:"col-12 col-sm-6"},[a("b-field",{staticClass:"field-group"},[a("b-input",{attrs:{type:"text",rounded:"",placeholder:"Last name"},model:{value:s.lastName,callback:function(t){s.lastName=t},expression:"lastName"}})],1)],1),a("div",{staticClass:"col-12"},[a("b-field",{staticClass:"field-group"},[a("b-input",{attrs:{type:"email",required:"",rounded:"",placeholder:"User Email"},model:{value:s.email,callback:function(t){s.email=t},expression:"email"}})],1)],1),a("div",{staticClass:"col-12 col-sm-6"},[a("b-field",{staticClass:"field-group"},[a("v-select",{staticClass:"select--with--icon w-100 v--select--scroll",attrs:{options:s.groups,label:"name",placeholder:"Group"},scopedSlots:s._u([{key:"option",fn:function(t){return[s._v("\n                                        "+s._s(t.name)+"\n                                    ")]}}]),model:{value:s.group,callback:function(t){s.group=t},expression:"group"}})],1)],1),a("div",{staticClass:"col-12 col-sm-6"},[this.$route.params.id?[s.policies.indexOf("user.status")>-1?a("b-field",{staticClass:"field-group text-center"},[a("b-switch",{attrs:{"true-value":"Active","false-value":"Not Active"},model:{value:s.userStatus,callback:function(t){s.userStatus=t},expression:"userStatus"}},[s._v("\n                                        Active\n                                    ")])],1):s._e()]:[a("b-field",{staticClass:"field-group text-center"},[a("b-switch",{attrs:{"true-value":"Active","false-value":"Not Active"},model:{value:s.userStatus,callback:function(t){s.userStatus=t},expression:"userStatus"}},[s._v("\n                                        Active\n                                    ")])],1)]],2),this.$route.params.id?a("div",{staticClass:"col-12"},[a("b-field",{staticClass:"field-group"},[a("span",{staticClass:"change--password",on:{click:function(t){s.changePassword=!s.changePassword}}},[s._v("Change\n                                    Password")])])],1):s._e(),s.changePassword?[a("div",{staticClass:"col-12"},[a("b-field",{staticClass:"field-group"},[a("b-input",{attrs:{minlength:"7",type:"password",required:"",rounded:"",placeholder:this.$route.params.id?"New Password":"Password"},model:{value:s.password,callback:function(t){s.password=t},expression:"password"}})],1)],1),a("div",{staticClass:"col-12"},[a("b-field",{staticClass:"field-group"},[a("b-input",{attrs:{type:"password",minlength:"7",required:"",rounded:"",placeholder:"Confirm Password"},model:{value:s.confirmPassword,callback:function(t){s.confirmPassword=t},expression:"confirmPassword"}})],1),s.errorConfirmPassword?a("p",{staticClass:"help is-danger mt-0"},[s._v("\n                                    Please fill the same password.\n                                ")]):s._e()],1)]:s._e()],2)]),a("div",{staticClass:"col-12 text-center button--save--form"},[a("button",{staticClass:"button is-primary is-rounded",class:{"is-loading":s.isLoading}},[s._v(s._s(this.$route.params.id?"Save Changes":"Add User"))])])])])])],1)},i=[],r=(e("96cf"),e("3b8d")),o=e("cebc"),n=e("d7f2"),u=e("2f62"),c=n["a"].get("users"),l=n["a"].get("groups"),d={name:"userForm",data:function(){return{firstName:"",lastName:"",email:"",oldPassword:"",password:"",confirmPassword:"",group:"",groups:[],isLoading:!1,errorConfirmPassword:!1,userStatus:"Not Active",status:0,changePassword:!0,policies:[],userPhoto:"",page:1,limit:100,breadcrumb:[{link:"/users",label:"users"},{link:"",label:"add & update user"}]}},computed:Object(o["a"])({},Object(u["c"])({imageSelected:function(s){return s.media.imageSelected}})),watch:{$route:function(s,t){this.$route.params.id?(this.getUser(this.$route.params.id),this.changePassword=!1):(this.resetfuild(),this.changePassword=!0)},userStatus:function(){"Active"==this.userStatus?this.status=1:this.status=0},status:function(){1==this.status?this.userStatus="Active":this.userStatus="Not Active"},imageSelected:function(){this.imageSelected&&(this.userPhoto=this.imageSelected.url)}},created:function(){this.$route.params.id&&(this.getUser(this.$route.params.id),this.changePassword=!1),this.fetchAllItems()},methods:{resetfuild:function(){this.firstName="",this.lastName="",this.email="",this.status=0,this.password="",this.confirmPassword=""},submitForm:function(){this.errorConfirmPassword=!0,this.isLoading=!1;var s={};s.first_name=this.firstName,s.last_name=this.lastName,s.email=this.email,s.status=this.status,this.group&&(s.role=this.group.id),this.imageSelected&&(s.photo=this.imageSelected.id),this.firstName&&this.email&&this.password&&this.confirmPassword?(s.password=this.password,this.password===this.confirmPassword?(this.errorConfirmPassword=!1,this.isLoading=!0,this.$route.params.id?this.updateUser(this.$route.params.id,s):this.newUser(s)):(this.isLoading=!1,this.errorConfirmPassword=!0)):this.firstName&&this.email&&this.$route.params.id&&(this.isLoading=!0,this.updateUser(this.$route.params.id,s))},newUser:function(){var s=Object(r["a"])(regeneratorRuntime.mark(function s(t){var e;return regeneratorRuntime.wrap(function(s){while(1)switch(s.prev=s.next){case 0:return s.next=2,c.newUser(t);case 2:e=s.sent,e.success?(this.successMessage(e.message),this.$router.push("/userForm/"+e.data)):this.errorMessage(e[0]),this.isLoading=!1;case 5:case"end":return s.stop()}},s,this)}));function t(t){return s.apply(this,arguments)}return t}(),getUser:function(){var s=Object(r["a"])(regeneratorRuntime.mark(function s(t){var e;return regeneratorRuntime.wrap(function(s){while(1)switch(s.prev=s.next){case 0:return s.next=2,c.getUser(t);case 2:e=s.sent,this.firstName=e.first_name,this.lastName=e.last_name,this.email=e.email,this.status=e.status,this.password="",this.confirmPassword="",this.policies=e.policies,e.role&&(this.group=e.role),e.photo&&(this.userPhoto=e.photo.url);case 12:case"end":return s.stop()}},s,this)}));function t(t){return s.apply(this,arguments)}return t}(),updateUser:function(){var s=Object(r["a"])(regeneratorRuntime.mark(function s(t,e){var a;return regeneratorRuntime.wrap(function(s){while(1)switch(s.prev=s.next){case 0:return s.next=2,c.updateUser(t,e);case 2:a=s.sent,a.success?this.successMessage(a.message):this.errorMessage(a[0]),this.isLoading=!1,this.password="",this.confirmPassword="";case 7:case"end":return s.stop()}},s,this)}));function t(t,e){return s.apply(this,arguments)}return t}(),fetchAllItems:function(){var s=Object(r["a"])(regeneratorRuntime.mark(function s(){var t;return regeneratorRuntime.wrap(function(s){while(1)switch(s.prev=s.next){case 0:return s.next=2,l.getAllGroups(this.page,this.limit);case 2:t=s.sent,this.groups=t.data.docs;case 4:case"end":return s.stop()}},s,this)}));function t(){return s.apply(this,arguments)}return t}(),errorMessage:function(s){this.$snackbar.open({message:s,type:"is-danger",position:"is-bottom-right",actionText:"OK",queue:!1,duration:1e4,indefinite:!1})},successMessage:function(s){this.$snackbar.open({message:s,type:"is-success",position:"is-bottom-right",actionText:"OK",queue:!1,duration:1e4,indefinite:!1})},openModalMedia:function(){this.$store.commit("openMediaImage")}}},A=d,h=e("2877"),g=Object(h["a"])(A,a,i,!1,null,null,null);t["default"]=g.exports}}]);
//# sourceMappingURL=chunk-5ef23559.98a30498.js.map