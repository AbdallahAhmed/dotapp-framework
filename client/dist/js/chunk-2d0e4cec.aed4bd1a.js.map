{"version":3,"sources":["webpack:///./src/views/groups/Form.vue?5a15","webpack:///src/views/groups/Form.vue","webpack:///./src/views/groups/Form.vue?d014","webpack:///./src/views/groups/Form.vue"],"names":["render","_vm","this","_h","$createElement","_c","_self","staticClass","_v","_s","$t","attrs","breadcrumb","$route","params","id","isInUserPermissions","_e","on","$event","preventDefault","submitForm","model","value","callback","$$v","name","expression","permissions","unSelectAllPermissions","selectAllPermissions","_l","key","checkLabel","checkValue","class","isLoading","staticRenderFns","group","success","policies","roleStatus","status","allPermissions","component"],"mappings":"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","file":"js/chunk-2d0e4cec.aed4bd1a.js","sourcesContent":["var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"groups\"},[_c('div',{staticClass:\"page--head\"},[_c('div',{staticClass:\"wrap--content\"},[_c('div',{staticClass:\"page--title\"},[_c('div',[_c('h1',{staticClass:\"title--text\"},[_vm._v(\"\\n                        \"+_vm._s(_vm.$t('groups'))+\"\\n                    \")]),_c('breadcrumb',{attrs:{\"links\":_vm.breadcrumb}})],1),(this.$route.params.id && _vm.isInUserPermissions('role.create'))?_c('div',{staticClass:\"page--title--action ml-auto\"},[_c('router-link',{staticClass:\"button is-primary\",attrs:{\"to\":\"/groupForm\"}},[_vm._v(_vm._s(_vm.$t('groupsPage.addNewGroup')))])],1):_vm._e()])])]),_c('div',{staticClass:\"wrap--content\"},[_c('div',{staticClass:\"card--block\"},[_c('div',{staticClass:\"card--content\"},[_c('form',{staticClass:\"row mt-3 justify-content-center\",on:{\"submit\":function($event){$event.preventDefault();return _vm.submitForm()}}},[_c('div',{staticClass:\"col-12 col-md-10 col-lg-8 \"},[_c('b-field',{staticClass:\"field-group mb-4\"},[_c('b-input',{attrs:{\"type\":\"text\",\"placeholder\":_vm.$t('groupName')},model:{value:(_vm.name),callback:function ($$v) {_vm.name=$$v},expression:\"name\"}})],1)],1),_c('div',{staticClass:\"col-12 col-md-10 col-lg-8 checkbox--group permissions--items\"},[_c('div',{staticClass:\"row align-items-center\"},[_c('div',{staticClass:\"col-12 col-sm-6\"},[_c('h3',[_vm._v(\"\\n                                    \"+_vm._s(_vm.$t('groupsPage.addPermissionsToGroup'))+\"\\n                                \")])]),_c('div',{staticClass:\"col-12 col-sm-6 text-center text-sm-right\"},[(_vm.permissions.length)?_c('button',{staticClass:\"button my-3 mr-2\",attrs:{\"type\":\"button\"},on:{\"click\":_vm.unSelectAllPermissions}},[_vm._v(\"\\n                                    \"+_vm._s(_vm.$t('unselectAll'))+\"\\n                                \")]):_vm._e(),_c('button',{staticClass:\"button my-3\",attrs:{\"type\":\"button\"},on:{\"click\":_vm.selectAllPermissions}},[_vm._v(\"\\n                                    \"+_vm._s(_vm.$t('selectAll'))+\"\\n                                \")])])]),_c('div',{staticClass:\"row justify-content-center\"},[_c('div',{staticClass:\"col-12\"},_vm._l((_vm.allPermissions),function(value,name){return _c('div',{key:name,staticClass:\"permissions--item\"},[_c('div',{staticClass:\"row\"},[_c('div',{staticClass:\"col-12 col-sm-6 col-md-4 col-lg-3 col-xl-2 permission--title\"},[_vm._v(\"\\n                                            \"+_vm._s(name)+\"\\n                                        \")]),_c('div',{staticClass:\"col-12 col-sm-6 col-md-8 col-lg-9 col-xl-10 permission--content\"},_vm._l((value),function(checkLabel,checkValue){return _c('div',{key:checkLabel,staticClass:\"item-checkbox checkbox--switch\"},[_c('b-checkbox-button',{attrs:{\"native-value\":checkValue,\"type\":\"is-light\"},model:{value:(_vm.permissions),callback:function ($$v) {_vm.permissions=$$v},expression:\"permissions\"}},[_c('span',[_vm._v(\"\\n                                                        \"+_vm._s(checkLabel)+\"\\n                                                    \")]),_c('span',{staticClass:\"switch--item\"},[_c('span',{staticClass:\"check\"})])])],1)}),0)])])}),0)])]),_c('div',{staticClass:\"col-12 text-center button--save--form mt-0\"},[_c('button',{staticClass:\"button is-primary\",class:{'is-loading': _vm.isLoading}},[_vm._v(_vm._s(this.$route.params.id ? _vm.$t('saveChanges') : _vm.$t('add')))])])])])])])])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n    <div class=\"groups\">\n\n        <!-- Page Head -->\n        <div class=\"page--head\">\n            <div class=\"wrap--content\">\n                <div class=\"page--title\">\n                    <div>\n                        <h1 class=\"title--text\">\n                            {{ $t('groups')}}\n                        </h1>\n\n                        <!-- Breadcrumb -->\n                        <breadcrumb :links=\"breadcrumb\" />\n\n                    </div>\n\n                    <div class=\"page--title--action ml-auto\"\n                        v-if=\"this.$route.params.id && isInUserPermissions('role.create')\">\n                        <router-link to=\"/groupForm\" class=\"button is-primary\">{{ $t('groupsPage.addNewGroup')}}</router-link>\n                    </div>\n                </div>\n            </div>\n        </div>\n\n        <div class=\"wrap--content\">\n            <div class=\"card--block\">\n                <!-- <div class=\"card--hreader\">\n                    <div class=\"card--header--title\">\n                          {{this.$route.params.id ? 'Update Group' : 'Add New Group'}}\n                    </div>\n               </div> -->\n                <div class=\"card--content\">\n                    <form class=\"row mt-3 justify-content-center\" @submit.prevent=\"submitForm()\">\n                        <div class=\"col-12 col-md-10 col-lg-8 \">\n                            <b-field class=\"field-group mb-4\">\n                                <b-input type=\"text\" :placeholder=\"$t('groupName')\" v-model=\"name\" />\n                            </b-field>\n                        </div>\n\n                        <div class=\"col-12 col-md-10 col-lg-8 checkbox--group permissions--items\">\n                            <div class=\"row align-items-center\">\n                                <div class=\"col-12 col-sm-6\">\n                                    <h3>\n                                        {{ $t('groupsPage.addPermissionsToGroup')}}\n                                    </h3>\n                                </div>\n                                <div class=\"col-12 col-sm-6 text-center text-sm-right\">\n                                    <button class=\"button my-3 mr-2\" v-if=\"permissions.length\" type=\"button\"\n                                        @click=\"unSelectAllPermissions\">\n                                        {{$t('unselectAll')}}\n                                    </button>\n                                    <button class=\"button my-3\" type=\"button\" @click=\"selectAllPermissions\">\n                                        {{$t('selectAll')}}\n                                    </button>\n\n                                </div>\n                            </div>\n\n                            <div class=\"row justify-content-center\">\n\n                                <div class=\"col-12\">\n                                    <div class=\"permissions--item\" v-for=\"(value , name) in allPermissions\" :key=\"name\">\n                                        <div class=\"row\">\n                                            <div class=\"col-12 col-sm-6 col-md-4 col-lg-3 col-xl-2 permission--title\">\n                                                {{name}}\n                                            </div>\n                                            <div\n                                                class=\"col-12 col-sm-6 col-md-8 col-lg-9 col-xl-10 permission--content\">\n                                                <div class=\"item-checkbox checkbox--switch\"\n                                                    v-for=\"(checkLabel , checkValue) in value\" :key=\"checkLabel\">\n                                                    <b-checkbox-button v-model=\"permissions\" :native-value=\"checkValue\"\n                                                        type=\"is-light\">\n                                                        <span>\n                                                            {{checkLabel}}\n                                                        </span>\n                                                        <span class=\"switch--item\">\n                                                            <span class=\"check\"></span>\n                                                        </span>\n                                                    </b-checkbox-button>\n                                                </div>\n                                            </div>\n                                        </div>\n                                    </div>\n                                </div>\n                            </div>\n                        </div>\n\n                        <div class=\"col-12 text-center button--save--form mt-0\">\n                            <button class=\"button is-primary\"\n                                :class=\"{'is-loading': isLoading}\">{{this.$route.params.id ? $t('saveChanges') : $t('add') }}</button>\n                        </div>\n                    </form>\n                </div>\n            </div>\n        </div>\n\n    </div>\n</template>\n\n\n<script>\n    // Repository Data\n    import {\n        RepositoryFactory\n    } from '../../repositories/RepositoryFactory'\n    const groupsRepository = RepositoryFactory.get('groups')\n    const permissionRepository = RepositoryFactory.get('permissions')\n    export default {\n        name: 'groupForm',\n        data() {\n            return {\n                name: '',\n                isLoading: false,\n                groupStatus: 0,\n                policies: [],\n                selectPermissions: [],\n                permissions: [],\n                allPermissions: [],\n                breadcrumb: [{\n                    link: '/groups',\n                    label: this.$t('groupsPage.breadcrumb[0]')\n                }, {\n                    link: '',\n                    label: this.$t('groupsPage.breadcrumb[1]')\n                }]\n\n            };\n        },\n\n        watch: {\n            '$route'(to, from) {\n                if (this.$route.params.id) {\n                    this.getGroup(this.$route.params.id)\n                } else {\n                    this.resetfuild()\n                }\n            },\n        },\n        created() {\n            if (this.$route.params.id) {\n                this.getGroup(this.$route.params.id)\n            }\n            this.getAllPermissions()\n        },\n\n        methods: {\n\n            resetfuild() {\n                this.name = ''\n                this.permissions = []\n            },\n\n            selectAllPermissions() {\n                this.permissions = []\n                for (let category in this.allPermissions) {\n                    for (let item in this.allPermissions[category]) {\n                        this.permissions.push(item)\n                    }\n                }\n            },\n            unSelectAllPermissions() {\n                this.permissions = []\n            },\n\n            submitForm() {\n                this.isLoading = false\n                let data = {}\n                data.name = this.name\n                data.permissions = this.permissions\n                this.isLoading = true\n                if (this.$route.params.id) {\n                    this.updateGroup(this.$route.params.id, data)\n                } else {\n                    this.newGroup(data)\n                }\n            },\n\n            async newGroup(data) {\n                const group = await groupsRepository.newGroup(data)\n                if (group.success) {\n                    this.successMessage(group.message)\n                    this.$router.push('/groupForm/' + group.data)\n                } else {\n                    this.errorMessage(group[0])\n                }\n                this.isLoading = false\n            },\n\n            async getGroup(data) {\n                const group = await groupsRepository.getGroup(data)\n                this.name = group.name\n                this.policies = group.policies\n                this.roleStatus = group.status\n                this.permissions = group.permissions\n\n            },\n            async updateGroup(id, data) {\n                const group = await groupsRepository.updateGroup(id, data)\n                if (group.success) {\n                    this.successMessage(group.message)\n                } else {\n                    this.errorMessage(group[0])\n                }\n                this.isLoading = false\n            },\n\n            async getAllPermissions() {\n                const allPermissions = await permissionRepository.getAllPermissions()\n                this.allPermissions = allPermissions\n            },\n\n            errorMessage(textMessage) {\n                this.$snackbar.open({\n                    message: textMessage,\n                    type: 'is-danger',\n                    position: 'is-bottom-right',\n                    actionText: 'OK',\n                    queue: false,\n                    duration: 10000,\n                    indefinite: false,\n                })\n            },\n            successMessage(textMessage) {\n                this.$snackbar.open({\n                    message: textMessage,\n                    type: 'is-success',\n                    position: 'is-bottom-right',\n                    actionText: 'OK',\n                    queue: false,\n                    duration: 10000,\n                    indefinite: false,\n                })\n            },\n\n\n\n\n\n        }\n    }\n</script>\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Form.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Form.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./Form.vue?vue&type=template&id=169b82a3&\"\nimport script from \"./Form.vue?vue&type=script&lang=js&\"\nexport * from \"./Form.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports"],"sourceRoot":""}