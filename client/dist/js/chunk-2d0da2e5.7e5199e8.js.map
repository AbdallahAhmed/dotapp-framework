{"version":3,"sources":["webpack:///./src/views/media/Media.vue?2635","webpack:///./src/components/media/MediaComponent.vue?6d6c","webpack:///src/components/media/MediaComponent.vue","webpack:///./src/components/media/MediaComponent.vue?27d5","webpack:///./src/components/media/MediaComponent.vue","webpack:///src/views/media/Media.vue","webpack:///./src/views/media/Media.vue?f635","webpack:///./src/views/media/Media.vue"],"names":["render","_vm","this","_h","$createElement","_c","_self","staticClass","_v","_s","$t","total","_e","attrs","breadcrumb","isInUserPermissions","on","changeModalUploadFiles","ref","setTotalItems","staticRenderFns","changeFilters","items","checkItemsMedia","fetchAllItems","infiniteHandler","slot","mediaModalUploadFile","modalCreateAlbum","changeModalCreateAlbum","class","itemsSelectedMedia","length","$event","confirmCustomDelete","component"],"mappings":"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","file":"js/chunk-2d0da2e5.7e5199e8.js","sourcesContent":["var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"media--page\"},[_c('div',{staticClass:\"page--head\"},[_c('div',{staticClass:\"wrap--content\"},[_c('div',{staticClass:\"page--title\"},[_c('div',[_c('h1',{staticClass:\"title--text\"},[_vm._v(\"\\n                        \"+_vm._s(_vm.$t('media'))+\"\\n                        \"),(_vm.total)?_c('span',{staticClass:\"badge--count\"},[_vm._v(\"\\n                            (\"+_vm._s(_vm.total)+\")\\n                        \")]):_vm._e()]),_c('breadcrumb',{attrs:{\"links\":_vm.breadcrumb}})],1),(_vm.isInUserPermissions('role.create'))?_c('div',{staticClass:\"page--title--action ml-auto\"},[_c('button',{staticClass:\"button is-primary btn--upload--media\",on:{\"click\":_vm.changeModalUploadFiles}},[_vm._v(\"\\n                        \"+_vm._s(_vm.$t('upload'))+\"\\n                        \"),_c('i',{staticClass:\"fas fa-cloud-upload-alt ml-2\"})])]):_vm._e()])])]),_c('div',{staticClass:\"wrap--content\"},[_c('media-component',{ref:\"mediaComponent\",on:{\"setTotalItems\":_vm.setTotalItems}})],1)])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',[_c('div',{staticClass:\"pb-0\"},[_c('filter-media',{on:{\"changeFilters\":_vm.changeFilters}}),_c('div',[(_vm.dataLoading)?[_c('div',{staticClass:\"media--items--wrap d-flex align-items-center justify-content-center w-100\"},[_c('loading-data')],1)]:[_c('div',{staticClass:\"media--items--wrap\"},[_c('div',{staticClass:\"media--items\"},[_c('media-items',{attrs:{\"data\":_vm.items},on:{\"checkItemsMedia\":_vm.checkItemsMedia,\"fetchAllItems\":_vm.fetchAllItems}}),_c('div',{staticClass:\"py-4 text-center w-100\"},[_c('infinite-loading',{on:{\"infinite\":_vm.infiniteHandler}},[_c('div',{attrs:{\"slot\":\"no-more\"},slot:\"no-more\"}),_c('div',{attrs:{\"slot\":\"no-results\"},slot:\"no-results\"})])],1)],1)])]],2)],1),_c('upload-files',{attrs:{\"uploadFileFromParent\":_vm.mediaModalUploadFile},on:{\"changeModalUploadFiles\":_vm.changeModalUploadFiles}}),_c('create-album',{attrs:{\"modalCreateAlbum\":_vm.modalCreateAlbum},on:{\"changeModalCreateAlbum\":_vm.changeModalCreateAlbum}}),_c('div',{staticClass:\"all--actions\",class:{'show--action--bottom': _vm.itemsSelectedMedia.length}},[_c('div',{staticClass:\"wrap--content\"},[_c('button',{staticClass:\"button is-danger\",on:{\"click\":function($event){return _vm.confirmCustomDelete()}}},[_vm._v(_vm._s(_vm.$t('deleteAllSelected')))])])])],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n    <div>\n        <div class=\"pb-0\">\n            <!-- Filter Media -->\n            <filter-media @changeFilters=\"changeFilters\" />\n\n            <!-- Items Media -->\n            <div>\n                <template v-if=\"dataLoading\">\n                    <div\n                        class=\"media--items--wrap d-flex align-items-center justify-content-center w-100\"\n                    >\n                        <loading-data></loading-data>\n                    </div>\n                </template>\n\n                <template v-else>\n                    <div class=\"media--items--wrap\">\n                        <div class=\"media--items\">\n                            <media-items\n                                :data=\"items\"\n                                @checkItemsMedia=\"checkItemsMedia\"\n                                @fetchAllItems=\"fetchAllItems\"\n                            />\n                            <div class=\"py-4 text-center w-100\">\n                                <infinite-loading @infinite=\"infiniteHandler\">\n                                    <div slot=\"no-more\"></div>\n                                    <div slot=\"no-results\"></div>\n                                </infinite-loading>\n                            </div>\n                        </div>\n                    </div>\n                </template>\n            </div>\n        </div>\n\n        <!-- Modal Upload Files -->\n        <upload-files\n            :uploadFileFromParent=\"mediaModalUploadFile\"\n            @changeModalUploadFiles=\"changeModalUploadFiles\"\n        />\n\n        <!-- Modal Create Album -->\n        <create-album\n            :modalCreateAlbum=\"modalCreateAlbum\"\n            @changeModalCreateAlbum=\"changeModalCreateAlbum\"\n        />\n\n        <!-- Action Lower Page -->\n        <div class=\"all--actions\" :class=\"{'show--action--bottom': itemsSelectedMedia.length}\">\n            <div class=\"wrap--content\">\n                <!-- <button class=\"button is-warning\" @click=\"banItems()\">Ban All Selected</button> -->\n                <button\n                    class=\"button is-danger\"\n                    @click=\"confirmCustomDelete()\"\n                >{{$t('deleteAllSelected')}}</button>\n            </div>\n        </div>\n    </div>\n</template>\n\n<script>\nimport filterMedia from \"./FilterMedia\";\nimport mediaItems from \"./MediaItems\";\nimport uploadFiles from \"./UploadFiles\";\nimport createAlbum from \"./CreateAlbum\";\n\n// Repository Data\nimport { RepositoryFactory } from \"../../repositories/RepositoryFactory\";\nconst mediaRepository = RepositoryFactory.get(\"media\");\n\nimport InfiniteLoading from \"vue-infinite-loading\";\n\nexport default {\n    data() {\n        return {\n            mediaModalUploadFile: false,\n            modalCreateAlbum: false,\n            items: [],\n            total: null,\n            allUserSelected: false,\n            page: 1,\n            pageLoadMore: 2,\n            limit: 25,\n            order: \"is-centered\",\n            dataLoading: false,\n            filters: {},\n            itemsSelectedMedia: [],\n            filtersItems: {}\n        };\n    },\n    created() {\n        this.fetchAllItems();\n    },\n    components: {\n        filterMedia,\n        mediaItems,\n        uploadFiles,\n        createAlbum,\n        InfiniteLoading\n    },\n\n    methods: {\n        changeModalUploadFiles(data) {\n            this.mediaModalUploadFile = !this.mediaModalUploadFile;\n            if (data && data.newItem == true) {\n                this.fetchAllItems();\n            }\n        },\n\n        changeModalCreateAlbum() {\n            this.modalCreateAlbum = !this.modalCreateAlbum;\n        },\n\n        // Get All Media\n        async fetchAllItems() {\n            this.pageLoadMore = 2;\n            this.dataLoading = true;\n            this.filters.type = this.filtersItems.type;\n            const data = await mediaRepository.getAllMedia(\n                this.page,\n                this.limit,\n                this.filters\n            );\n            this.items = data.docs;\n            this.total = data.total;\n            this.$emit(\"setTotalItems\", data.total);\n            this.dataLoading = false;\n            this.itemsSelectedMedia = [];\n        },\n\n        checkItemsMedia(items) {\n            this.itemsSelectedMedia = items;\n        },\n\n        confirmCustomDelete() {\n            this.$dialog.confirm({\n                title: this.$t(\"mediaPage.messages.deleteItems.title\"),\n                message: this.$t(\"mediaPage.messages.deleteItems.message\"),\n                confirmText: this.$t(\n                    \"mediaPage.messages.deleteItems.confirmText\"\n                ),\n                cancelText: this.$t(\n                    \"mediaPage.messages.deleteItems.cancelText\"\n                ),\n                type: \"is-danger\",\n                hasIcon: true,\n                onConfirm: () => {\n                    this.deleteItems();\n                }\n            });\n        },\n        // Confirm Set Images To Gallery From Posts\n        confirmCustomSetGallery() {\n            this.$dialog.confirm({\n                title: this.$t(\"mediaPage.messages.setToGallery.title\"),\n                message: this.$t(\"mediaPage.messages.setToGallery.message\"),\n                confirmText: this.$t(\n                    \"mediaPage.messages.setToGallery.confirmText\"\n                ),\n                cancelText: this.$t(\n                    \"mediaPage.messages.setToGallery.cancelText\"\n                ),\n                type: \"is-primary\",\n                icon: \"information-outline\",\n                hasIcon: true,\n                onConfirm: () => {\n                    this.$store.commit(\n                        \"setItemSelected\",\n                        this.itemsSelectedMedia\n                    );\n                    this.$store.commit(\"openMediaImage\");\n                }\n            });\n        },\n\n        // Delete Items\n        async deleteItems() {\n            const items = await mediaRepository.deleteItems(\n                this.itemsSelectedMedia\n            );\n            this.fetchAllItems();\n            this.aleartMessage(items.message);\n        },\n\n        async infiniteHandler($state) {\n            const data = await mediaRepository.getAllMedia(\n                this.pageLoadMore,\n                this.limit,\n                this.filters\n            );\n            if (data.docs.length) {\n                this.pageLoadMore += 1;\n                this.items.push(...data.docs);\n                $state.loaded();\n            } else {\n                $state.complete();\n            }\n        },\n        aleartMessage(textMessage) {\n            this.$snackbar.open({\n                message: textMessage,\n                type: \"is-success\",\n                position: \"is-bottom-right\",\n                actionText: \"OK\",\n                queue: false,\n                duration: 3000,\n                indefinite: false\n            });\n        },\n\n        // Filters\n        changeFilters(filters) {\n            this.filtersItems = filters;\n            this.filters = filters;\n            this.fetchAllItems();\n        }\n    }\n};\n</script>\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./MediaComponent.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./MediaComponent.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./MediaComponent.vue?vue&type=template&id=76d0c5ea&\"\nimport script from \"./MediaComponent.vue?vue&type=script&lang=js&\"\nexport * from \"./MediaComponent.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","<template>\n    <div class=\"media--page\">\n\n        <!-- Page Head -->\n        <div class=\"page--head\">\n            <div class=\"wrap--content\">\n                <div class=\"page--title\">\n                    <div>\n                        <h1 class=\"title--text\">\n                            {{$t('media')}}\n                            <span class=\"badge--count\" v-if=\"total\">\n                                ({{total}})\n                            </span>\n                        </h1>\n\n                        <!-- Breadcrumb -->\n                        <breadcrumb :links=\"breadcrumb\" />\n\n                    </div>\n\n                    <div class=\"page--title--action ml-auto\" v-if=\"isInUserPermissions('role.create')\">\n                        <button class=\"button is-primary btn--upload--media\" @click=\"changeModalUploadFiles\">\n                            {{$t('upload')}}\n                            <i class=\"fas fa-cloud-upload-alt ml-2\"></i>\n                        </button>\n                    </div>\n                </div>\n            </div>\n        </div>\n\n        <div class=\"wrap--content\">\n            <!-- Content Media Page -->\n            <media-component @setTotalItems=\"setTotalItems\" ref=\"mediaComponent\" />\n        </div>\n\n    </div>\n</template>\n\n<script>\n    import MediaComponent from './../../components/media/MediaComponent'\n    export default {\n        name: 'media',\n        data() {\n            return {\n                total: '',\n                breadcrumb: [{\n                    link: '',\n                    label: this.$t('mediaPage.breadcrumb[0]')\n                }]\n            };\n        },\n        components: {\n            MediaComponent,\n        },\n        created() {},\n        watch: {\n\n        },\n        methods: {\n            setTotalItems(total) {\n                this.total = total\n            },\n            changeModalUploadFiles() {\n                this.$refs.mediaComponent.changeModalUploadFiles()\n\n            }\n\n        }\n    }\n</script>\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Media.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Media.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./Media.vue?vue&type=template&id=58021abe&\"\nimport script from \"./Media.vue?vue&type=script&lang=js&\"\nexport * from \"./Media.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports"],"sourceRoot":""}